function startApp(){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-9HlnwXsPlOG1m3D6UVLNrW3O5LU7CHA&callback=initialize",document.body.appendChild(e)}function initialize(){mapsErrorChecker();var e=targetLoc,t={center:e,zoom:$(window).width()<=400?15:16,disableDefaultUI:!0};map=new google.maps.Map(document.getElementById("map-area"),t)}function closeVenues(){markerList().forEach(function(e){null!==e.animation&&(e.setAnimation(null),e.infowindow.close(map,e))})}function fourSquareAjaxConstructor(e,t){var n="https://api.foursquare.com/v2/venues/search?intent=browse",o="&ll="+e+","+t,a="&radius=800",i="&limit=100",r=["4bf58dd8d48988d1e0931735","4d4b7105d754a06374d81259"],s="&categoryId="+r.reduce(function(e,t){return e+","+t}),l="&client_id=E2KGUFUAJOBTFYJLJT1NT50XKR3IDGYMFMOLG2G3GNXXUHB5",c="&client_secret=5ABPBLHRJNIRA5ROV0OMTNQGL3A5YMPNUPMY0J4UYOZONN5V",m="&v=20150101",d=n+o+a+i+s+l+c+m;return d}function makeLocationsObject(e){var t={},n=e;n.forEach(function(e){t[e.name]=e}),addMapsMarkers(t)}function addMapsMarkers(e){if(mapsErrorChecker(),!$.isEmptyObject(e)){for(var t in e)if(e[t].name.length>1){var n=e[t],o=n.location,a=n.categories[0],i=new google.maps.Marker({title:n.name,phone:void 0===n.contact.formattedPhone?"Sorry, no phone number available.":n.contact.formattedPhone,address:o.address+", "+o.city+" "+o.state,position:{lat:o.lat,lng:o.lng},menu:n.hasMenu===!0?n.menu.url:!1,category:"Category: "+a.shortName,keywords:n.name+" "+a.name+" "+a.pluralName+" "+a.shortName,filter:function(){},animation:google.maps.Animation.DROP,map:null});i.infowindow=new google.maps.InfoWindow({content:'<article class="infoWindow"><h1 class="location-title">'+i.title+"</h1><p>"+i.phone+"<br>"+i.address+"<br> "+i.category+"<br> "+(i.menu===!1?"Sorry, no menu available.":'<a href="'+i.menu+'"target="blank" data-bind="click: openLink">Click to view the menu!</a>')+"</p></article>"}),i.toggleBounce=function(){this.setAnimation(null!==this.getAnimation()?null:google.maps.Animation.BOUNCE)},google.maps.event.addListener(i,"click",function(){closeVenues(),this.infowindow.open(map,this),this.toggleBounce()}),markerList().push(i)}console.log(markerList().length)}}function toggleSlide(){$("#location-list").toggleClass("has-active"),document.getElementById("locations-button").innerHTML=$("#location-list").hasClass("has-active")?"Close List":"Open List"}var map,markerList=ko.observableArray([]),targetLoc={lat:41.926411,lng:-87.643326},mapsErrorChecker=function(){("object"!=typeof google||"object"!=typeof google.maps)&&$("#error-box").append('<div class="maps-error"><br><br><p><strong>Oh no! Either we\'re speaking gibberish, your internet is disconnected, or the Google Maps servers are down! Please check your internet connection and try again.  </strong></p><div>')},updateMarkers=function(e){var t=[];return markerList().forEach(function(n){-1!=n.keywords.toLowerCase().indexOf(e.toLowerCase())&&t.push(n),-1!=t.indexOf(n)?n.setMap()!=map&&n.setMap(map):n.setMap(null)}),t};document.getElementById("locations-button").addEventListener("click",toggleSlide);