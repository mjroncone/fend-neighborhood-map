function MapMarkerViewModel(){var e=this;e.filter=ko.observable(""),e.visibleMarkers=ko.observableArray([]),$.when($.getJSON(fourSquareAjaxConstructor(targetLoc.lat,targetLoc.lng),function(e){makeLocationsObject(e.response.venues)}).error(function(){e.visibleMarkers.push({title:"<p>Shoot! Four Square won't return our calls. What kind of friend is that? Please check your internet and try again later.</p>"})})).then(function(){e.visibleMarkers(updateMarkers(e.filter()))}),ko.computed(function(){closeVenues(),e.visibleMarkers(updateMarkers(e.filter()))}),e.listClick=function(){window.matchMedia("(max-width: 400px)").matches&&toggleSlide(),closeVenues(),this.infowindow.open(map,this),this.toggleBounce()},window.onload=startApp}ko.applyBindings(new MapMarkerViewModel);